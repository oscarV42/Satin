{"version":3,"sources":["context/AuthReducer.js","context/AuthContext.js","components/topbar/Topbar.jsx","dummyData.js","components/closeFriend/CloseFriend.jsx","components/sidebar/Sidebar.jsx","components/post/Post.jsx","components/share/Share.jsx","components/feed/Feed.jsx","components/online/Online.jsx","components/rightbar/Rightbar.jsx","pages/home/Home.jsx","apiCalls.js","pages/login/Login.jsx","pages/profile/Profile.jsx","utils/mutations.js","utils/auth.js","pages/register/Register.jsx","components/conversations/Conversation.jsx","components/message/Message.jsx","components/chatOnline/ChatOnline.jsx","pages/messenger/Messenger.jsx","App.js","index.js"],"names":["AuthReducer","state","action","type","user","isFetching","error","payload","followings","filter","following","INITIAL_STATE","JSON","parse","localStorage","getItem","AuthContext","createContext","AuthContextProvider","children","useReducer","dispatch","useEffect","setItem","stringify","Provider","value","Topbar","useContext","PF","process","REACT_APP_PUBLIC_FOLDER","className","to","style","textDecoration","Search","placeholder","Person","Chat","Notifications","username","src","profilePicture","alt","Users","id","CloseFriend","Sidebar","RssFeed","PlayCircleFilledOutlined","Group","Bookmark","HelpOutline","WorkOutline","Event","School","map","u","Post","post","useState","likes","length","like","setLike","isLiked","setIsLiked","setUser","currentUser","includes","_id","fetchUser","a","axios","get","userId","res","data","likeHandler","put","err","format","createdAt","MoreVert","desc","img","onClick","comment","Share","useRef","file","setFile","submitHandler","e","preventDefault","newPost","current","FormData","fileName","Date","now","name","append","console","log","window","location","reload","ref","URL","createObjectURL","Cancel","onSubmit","htmlFor","PermMedia","htmlColor","display","accept","onChange","target","files","Label","Room","EmojiEmotions","Feed","posts","setPosts","fetchPosts","sort","p1","p2","p","Online","Rightbar","friends","setFriends","followed","setFollowed","getFriends","friendList","handleClick","HomeRightbar","ProfileRightbar","Remove","Add","city","from","relationship","friend","Home","loginCall","userCredential","Login","email","password","required","minLength","disabled","CircularProgress","color","size","Profile","useParams","coverPicture","ADD_USER","gql","decode","this","getToken","token","isTokenExpired","exp","removeItem","idToken","assign","Register","userFormData","setUserFormData","setShowAlert","useMutation","addUser","handleInputChange","event","variables","Auth","login","Conversation","conversation","friendId","members","find","m","getUser","Message","message","own","text","ChatOnline","onlineUsers","currentId","setCurrentChat","onlineFriends","setOnlineFriends","f","o","Messenger","conversations","setConversations","currentChat","messages","setMessages","newMessage","setNewMessage","arrivalMessage","setArrivalMessage","setOnlineUsers","socket","scrollRef","io","on","sender","senderId","prev","emit","users","some","getConversations","getMessages","handleSubmit","conversationId","receiverId","member","scrollIntoView","behavior","c","httpLink","createHttpLink","uri","authLink","setContext","_","headers","authorization","client","ApolloClient","link","concat","cache","InMemoryCache","App","ApolloProvider","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2bc027c1.chunk.js","sourcesContent":["const AuthReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"LOGIN_START\":\r\n      return {\r\n        user: null,\r\n        isFetching: true,\r\n        error: false,\r\n      };\r\n    case \"LOGIN_SUCCESS\":\r\n      return {\r\n        user: action.payload,\r\n        isFetching: false,\r\n        error: false,\r\n      };\r\n    case \"LOGIN_FAILURE\":\r\n      return {\r\n        user: null,\r\n        isFetching: false,\r\n        error: true,\r\n      };\r\n    case \"FOLLOW\":\r\n      return {\r\n        ...state,\r\n        user: {\r\n          ...state.user,\r\n          followings: [...state.user.followings, action.payload],\r\n        },\r\n      };\r\n    case \"UNFOLLOW\":\r\n      return {\r\n        ...state,\r\n        user: {\r\n          ...state.user,\r\n          followings: state.user.followings.filter(\r\n            (following) => following !== action.payload\r\n          ),\r\n        },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default AuthReducer;\r\n","import { createContext, useEffect, useReducer } from \"react\";\r\nimport AuthReducer from \"./AuthReducer\";\r\n\r\nconst INITIAL_STATE = {\r\n  user:JSON.parse(localStorage.getItem(\"user\")) || null,\r\n  isFetching: false,\r\n  error: false,\r\n};\r\n\r\n\r\nexport const AuthContext = createContext(INITIAL_STATE);\r\n\r\nexport const AuthContextProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);\r\n  \r\n  useEffect(()=>{\r\n    localStorage.setItem(\"user\", JSON.stringify(state.user))\r\n  },[state.user])\r\n  \r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        user: state.user,\r\n        isFetching: state.isFetching,\r\n        error: state.error,\r\n        dispatch,\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n","import \"./topbar.css\";\r\nimport { Search, Person, Chat, Notifications } from \"@material-ui/icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nexport default function Topbar() {\r\n  const { user } = useContext(AuthContext);\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  return (\r\n    <div className=\"topbarContainer\">\r\n      <div className=\"topbarLeft\">\r\n        <Link to=\"/\" style={{ textDecoration: \"none\" }}>\r\n          <span className=\"logo\">Lamasocial</span>\r\n        </Link>\r\n      </div>\r\n      <div className=\"topbarCenter\">\r\n        <div className=\"searchbar\">\r\n          <Search className=\"searchIcon\" />\r\n          <input\r\n            placeholder=\"Search for friend, post or video\"\r\n            className=\"searchInput\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"topbarRight\">\r\n        <div className=\"topbarLinks\">\r\n          <span className=\"topbarLink\">Homepage</span>\r\n          <span className=\"topbarLink\">Timeline</span>\r\n        </div>\r\n        <div className=\"topbarIcons\">\r\n          <div className=\"topbarIconItem\">\r\n            <Person />\r\n            <span className=\"topbarIconBadge\">1</span>\r\n          </div>\r\n          <div className=\"topbarIconItem\">\r\n            <Chat />\r\n            <span className=\"topbarIconBadge\">2</span>\r\n          </div>\r\n          <div className=\"topbarIconItem\">\r\n            <Notifications />\r\n            <span className=\"topbarIconBadge\">1</span>\r\n          </div>\r\n        </div>\r\n        <Link to={`/profile/${user.username}`}>\r\n          <img\r\n            src={\r\n              user.profilePicture\r\n                ? PF + user.profilePicture\r\n                : PF + \"person/noAvatar.png\"\r\n            }\r\n            alt=\"\"\r\n            className=\"topbarImg\"\r\n          />\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export const Users = [\r\n  {\r\n    id:1,\r\n    profilePicture: \"person/1.jpeg\",\r\n    username: \"Safak Kocaoglu\",\r\n  },\r\n  {\r\n    id:2,\r\n    profilePicture: \"person/2.jpeg\",\r\n    username: \"Janell Shrum\",\r\n  },\r\n  {\r\n    id:3,\r\n    profilePicture: \"person/3.jpeg\",\r\n    username: \"Alex Durden\",\r\n  },\r\n  {\r\n    id:4,\r\n    profilePicture: \"person/4.jpeg\",\r\n    username: \"Dora Hawks\",\r\n  },\r\n  {\r\n    id:5,\r\n    profilePicture: \"person/5.jpeg\",\r\n    username: \"Thomas Holden\",\r\n  },\r\n  {\r\n    id:6,\r\n    profilePicture: \"person/6.jpeg\",\r\n    username: \"Shirley Beauchamp\",\r\n  },\r\n  {\r\n    id:7,\r\n    profilePicture: \"person/7.jpeg\",\r\n    username: \"Travis Bennett\",\r\n  },\r\n  {\r\n    id:8,\r\n    profilePicture: \"person/8.jpeg\",\r\n    username: \"Kristen Thomas\",\r\n  },\r\n  {\r\n    id:9,\r\n    profilePicture: \"person/9.jpeg\",\r\n    username: \"Gary Duty\",\r\n  },\r\n  {\r\n    id:10,\r\n    profilePicture: \"person/10.jpeg\",\r\n    username: \"Safak Kocaoglu\",\r\n  },\r\n];\r\n\r\nexport const Posts = [\r\n  {\r\n    id: 1,\r\n    desc: \"Love For All, Hatred For None.\",\r\n    photo: \"post/1.jpeg\",\r\n    date: \"5 mins ago\",\r\n    userId: 1,\r\n    like: 32,\r\n    comment: 9,\r\n  },\r\n  {\r\n    id: 2,\r\n    photo: \"post/2.jpeg\",\r\n    date: \"15 mins ago\",\r\n    userId: 2,\r\n    like: 2,\r\n    comment: 1,\r\n  },\r\n  {\r\n    id: 3,\r\n    desc: \"Every moment is a fresh beginning.\",\r\n    photo: \"post/3.jpeg\",\r\n    date: \"1 hour ago\",\r\n    userId: 3,\r\n    like: 61,\r\n    comment: 2,\r\n  },\r\n  {\r\n    id: 4,\r\n    photo: \"post/4.jpeg\",\r\n    date: \"4 hours ago\",\r\n    userId: 4,\r\n    like: 7,\r\n    comment: 3,\r\n  },\r\n  {\r\n    id: 5,\r\n    photo: \"post/5.jpeg\",\r\n    date: \"5 hours ago\",\r\n    userId: 5,\r\n    like: 23,\r\n    comment: 5,\r\n  },\r\n  {\r\n    id: 6,\r\n    photo: \"post/6.jpeg\",\r\n    date: \"1 day ago\",\r\n    userId: 6,\r\n    like: 44,\r\n    comment: 6,\r\n  },\r\n  {\r\n    id: 7,\r\n    desc: \"Never regret anything that made you smile.\",\r\n    photo: \"post/7.jpeg\",\r\n    date: \"2 days ago\",\r\n    userId: 7,\r\n    like: 52,\r\n    comment: 3,\r\n  },\r\n  {\r\n    id: 8,\r\n    photo: \"post/8.jpeg\",\r\n    date: \"3 days ago\",\r\n    userId: 8,\r\n    like: 15,\r\n    comment: 1,\r\n  },\r\n  {\r\n    id: 9,\r\n    desc: \"Change the world by being yourself.\",\r\n    photo: \"post/9.jpeg\",\r\n    date: \"5 days ago\",\r\n    userId: 9,\r\n    like: 11,\r\n    comment: 2,\r\n  },\r\n  {\r\n    id: 10,\r\n    photo: \"post/10.jpeg\",\r\n    date: \"1 week ago\",\r\n    userId: 10,\r\n    like: 104,\r\n    comment: 12,\r\n  },\r\n];\r\n","import \"./closeFriend.css\";\r\n\r\nexport default function CloseFriend({user}) {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  return (\r\n    <li className=\"sidebarFriend\">\r\n      <img className=\"sidebarFriendImg\" src={PF+user.profilePicture} alt=\"\" />\r\n      <span className=\"sidebarFriendName\">{user.username}</span>\r\n    </li>\r\n  );\r\n}\r\n","import \"./sidebar.css\";\r\nimport {\r\n  RssFeed,\r\n  Chat,\r\n  PlayCircleFilledOutlined,\r\n  Group,\r\n  Bookmark,\r\n  HelpOutline,\r\n  WorkOutline,\r\n  Event,\r\n  School,\r\n} from \"@material-ui/icons\";\r\nimport { Users } from \"../../dummyData\";\r\nimport CloseFriend from \"../closeFriend/CloseFriend\";\r\n\r\nexport default function Sidebar() {\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <div className=\"sidebarWrapper\">\r\n        <ul className=\"sidebarList\">\r\n          <li className=\"sidebarListItem\">\r\n            <RssFeed className=\"sidebarIcon\" />\r\n            <span className=\"sidebarListItemText\">Feed</span>\r\n          </li>\r\n          <li className=\"sidebarListItem\">\r\n            <Chat className=\"sidebarIcon\" />\r\n            <span className=\"sidebarListItemText\">Chats</span>\r\n          </li>\r\n          <li className=\"sidebarListItem\">\r\n            <PlayCircleFilledOutlined className=\"sidebarIcon\" />\r\n            <span className=\"sidebarListItemText\">Videos</span>\r\n          </li>\r\n          <li className=\"sidebarListItem\">\r\n            <Group className=\"sidebarIcon\" />\r\n            <span className=\"sidebarListItemText\">Groups</span>\r\n          </li>\r\n          <li className=\"sidebarListItem\">\r\n            <Bookmark className=\"sidebarIcon\" />\r\n            <span className=\"sidebarListItemText\">Bookmarks</span>\r\n          </li>\r\n          <li className=\"sidebarListItem\">\r\n            <HelpOutline className=\"sidebarIcon\" />\r\n            <span className=\"sidebarListItemText\">Questions</span>\r\n          </li>\r\n          <li className=\"sidebarListItem\">\r\n            <WorkOutline className=\"sidebarIcon\" />\r\n            <span className=\"sidebarListItemText\">Jobs</span>\r\n          </li>\r\n          <li className=\"sidebarListItem\">\r\n            <Event className=\"sidebarIcon\" />\r\n            <span className=\"sidebarListItemText\">Events</span>\r\n          </li>\r\n          <li className=\"sidebarListItem\">\r\n            <School className=\"sidebarIcon\" />\r\n            <span className=\"sidebarListItemText\">Courses</span>\r\n          </li>\r\n        </ul>\r\n        <button className=\"sidebarButton\">Show More</button>\r\n        <hr className=\"sidebarHr\" />\r\n        <ul className=\"sidebarFriendList\">\r\n          {Users.map((u) => (\r\n            <CloseFriend key={u.id} user={u} />\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import \"./post.css\";\r\nimport { MoreVert } from \"@material-ui/icons\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { format } from \"timeago.js\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nexport default function Post({ post }) {\r\n  const [like, setLike] = useState(post.likes.length);\r\n  const [isLiked, setIsLiked] = useState(false);\r\n  const [user, setUser] = useState({});\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const { user: currentUser } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    setIsLiked(post.likes.includes(currentUser._id));\r\n  }, [currentUser._id, post.likes]);\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      const res = await axios.get(`/users?userId=${post.userId}`);\r\n      setUser(res.data);\r\n    };\r\n    fetchUser();\r\n  }, [post.userId]);\r\n\r\n  const likeHandler = () => {\r\n    try {\r\n      axios.put(\"/posts/\" + post._id + \"/like\", { userId: currentUser._id });\r\n    } catch (err) {}\r\n    setLike(isLiked ? like - 1 : like + 1);\r\n    setIsLiked(!isLiked);\r\n  };\r\n  return (\r\n    <div className=\"post\">\r\n      <div className=\"postWrapper\">\r\n        <div className=\"postTop\">\r\n          <div className=\"postTopLeft\">\r\n            <Link to={`/profile/${user.username}`}>\r\n              <img\r\n                className=\"postProfileImg\"\r\n                src={\r\n                  user.profilePicture\r\n                    ? PF + user.profilePicture\r\n                    : PF + \"person/noAvatar.png\"\r\n                }\r\n                alt=\"\"\r\n              />\r\n            </Link>\r\n            <span className=\"postUsername\">{user.username}</span>\r\n            <span className=\"postDate\">{format(post.createdAt)}</span>\r\n          </div>\r\n          <div className=\"postTopRight\">\r\n            <MoreVert />\r\n          </div>\r\n        </div>\r\n        <div className=\"postCenter\">\r\n          <span className=\"postText\">{post?.desc}</span>\r\n          <img className=\"postImg\" src={PF + post.img} alt=\"\" />\r\n        </div>\r\n        <div className=\"postBottom\">\r\n          <div className=\"postBottomLeft\">\r\n            <img\r\n              className=\"likeIcon\"\r\n              src={`${PF}like.png`}\r\n              onClick={likeHandler}\r\n              alt=\"\"\r\n            />\r\n            <img\r\n              className=\"likeIcon\"\r\n              src={`${PF}heart.png`}\r\n              onClick={likeHandler}\r\n              alt=\"\"\r\n            />\r\n            <span className=\"postLikeCounter\">{like} people like it</span>\r\n          </div>\r\n          <div className=\"postBottomRight\">\r\n            <span className=\"postCommentText\">{post.comment} comments</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import \"./share.css\";\r\nimport {\r\n  PermMedia,\r\n  Label,\r\n  Room,\r\n  EmojiEmotions,\r\n  Cancel,\r\n} from \"@material-ui/icons\";\r\nimport { useContext, useRef, useState } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Share() {\r\n  const { user } = useContext(AuthContext);\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const desc = useRef();\r\n  const [file, setFile] = useState(null);\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    const newPost = {\r\n      userId: user._id,\r\n      desc: desc.current.value,\r\n    };\r\n    if (file) {\r\n      const data = new FormData();\r\n      const fileName = Date.now() + file.name;\r\n      data.append(\"name\", fileName);\r\n      data.append(\"file\", file);\r\n      newPost.img = fileName;\r\n      console.log(newPost);\r\n      try {\r\n        await axios.post(\"/upload\", data);\r\n      } catch (err) {}\r\n    }\r\n    try {\r\n      await axios.post(\"/posts\", newPost);\r\n      window.location.reload();\r\n    } catch (err) {}\r\n  };\r\n\r\n  return (\r\n    <div className=\"share\">\r\n      <div className=\"shareWrapper\">\r\n        <div className=\"shareTop\">\r\n          <img\r\n            className=\"shareProfileImg\"\r\n            src={\r\n              user.profilePicture\r\n                ? PF + user.profilePicture\r\n                : PF + \"person/noAvatar.png\"\r\n            }\r\n            alt=\"\"\r\n          />\r\n          <input\r\n            placeholder={\"What's in your mind \" + user.username + \"?\"}\r\n            className=\"shareInput\"\r\n            ref={desc}\r\n          />\r\n        </div>\r\n        <hr className=\"shareHr\" />\r\n        {file && (\r\n          <div className=\"shareImgContainer\">\r\n            <img className=\"shareImg\" src={URL.createObjectURL(file)} alt=\"\" />\r\n            <Cancel className=\"shareCancelImg\" onClick={() => setFile(null)} />\r\n          </div>\r\n        )}\r\n        <form className=\"shareBottom\" onSubmit={submitHandler}>\r\n          <div className=\"shareOptions\">\r\n            <label htmlFor=\"file\" className=\"shareOption\">\r\n              <PermMedia htmlColor=\"tomato\" className=\"shareIcon\" />\r\n              <span className=\"shareOptionText\">Photo or Video</span>\r\n              <input\r\n                style={{ display: \"none\" }}\r\n                type=\"file\"\r\n                id=\"file\"\r\n                accept=\".png,.jpeg,.jpg\"\r\n                onChange={(e) => setFile(e.target.files[0])}\r\n              />\r\n            </label>\r\n            <div className=\"shareOption\">\r\n              <Label htmlColor=\"blue\" className=\"shareIcon\" />\r\n              <span className=\"shareOptionText\">Tag</span>\r\n            </div>\r\n            <div className=\"shareOption\">\r\n              <Room htmlColor=\"green\" className=\"shareIcon\" />\r\n              <span className=\"shareOptionText\">Location</span>\r\n            </div>\r\n            <div className=\"shareOption\">\r\n              <EmojiEmotions htmlColor=\"goldenrod\" className=\"shareIcon\" />\r\n              <span className=\"shareOptionText\">Feelings</span>\r\n            </div>\r\n          </div>\r\n          <button className=\"shareButton\" type=\"submit\">\r\n            Share\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport Post from \"../post/Post\";\r\nimport Share from \"../share/Share\";\r\nimport \"./feed.css\";\r\nimport axios from \"axios\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nexport default function Feed({ username }) {\r\n  const [posts, setPosts] = useState([]);\r\n  const { user } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      const res = username\r\n        ? await axios.get(\"/posts/profile/\" + username)\r\n        : await axios.get(\"posts/timeline/\" + user._id);\r\n      setPosts(\r\n        res.data.sort((p1, p2) => {\r\n          return new Date(p2.createdAt) - new Date(p1.createdAt);\r\n        })\r\n      );\r\n    };\r\n    fetchPosts();\r\n  }, [username, user._id]);\r\n\r\n  return (\r\n    <div className=\"feed\">\r\n      <div className=\"feedWrapper\">\r\n        {(!username || username === user.username) && <Share />}\r\n        {posts.map((p) => (\r\n          <Post key={p._id} post={p} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import \"./online.css\";\r\n\r\nexport default function Online({user}) {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n\r\n  return (\r\n    <li className=\"rightbarFriend\">\r\n      <div className=\"rightbarProfileImgContainer\">\r\n        <img className=\"rightbarProfileImg\" src={PF+user.profilePicture} alt=\"\" />\r\n        <span className=\"rightbarOnline\"></span>\r\n      </div>\r\n      <span className=\"rightbarUsername\">{user.username}</span>\r\n    </li>\r\n  );\r\n}\r\n","import \"./rightbar.css\";\r\nimport { Users } from \"../../dummyData\";\r\nimport Online from \"../online/Online\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { Add, Remove } from \"@material-ui/icons\";\r\n\r\nexport default function Rightbar({ user }) {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [friends, setFriends] = useState([]);\r\n  const { user: currentUser, dispatch } = useContext(AuthContext);\r\n  const [followed, setFollowed] = useState(\r\n    currentUser.followings.includes(user?.id)\r\n  );\r\n\r\n  useEffect(() => {\r\n    const getFriends = async () => {\r\n      try {\r\n        const friendList = await axios.get(\"/users/friends/\" + user._id);\r\n        setFriends(friendList.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getFriends();\r\n  }, [user]);\r\n\r\n  const handleClick = async () => {\r\n    try {\r\n      if (followed) {\r\n        await axios.put(`/users/${user._id}/unfollow`, {\r\n          userId: currentUser._id,\r\n        });\r\n        dispatch({ type: \"UNFOLLOW\", payload: user._id });\r\n      } else {\r\n        await axios.put(`/users/${user._id}/follow`, {\r\n          userId: currentUser._id,\r\n        });\r\n        dispatch({ type: \"FOLLOW\", payload: user._id });\r\n      }\r\n      setFollowed(!followed);\r\n    } catch (err) {\r\n    }\r\n  };\r\n\r\n  const HomeRightbar = () => {\r\n    return (\r\n      <>\r\n        <div className=\"birthdayContainer\">\r\n          <img className=\"birthdayImg\" src=\"assets/gift.png\" alt=\"\" />\r\n          <span className=\"birthdayText\">\r\n            <b>Pola Foster</b> and <b>3 other friends</b> have a birhday today.\r\n          </span>\r\n        </div>\r\n        <img className=\"rightbarAd\" src=\"assets/ad.png\" alt=\"\" />\r\n        <h4 className=\"rightbarTitle\">Online Friends</h4>\r\n        <ul className=\"rightbarFriendList\">\r\n          {Users.map((u) => (\r\n            <Online key={u.id} user={u} />\r\n          ))}\r\n        </ul>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const ProfileRightbar = () => {\r\n    return (\r\n      <>\r\n        {user.username !== currentUser.username && (\r\n          <button className=\"rightbarFollowButton\" onClick={handleClick}>\r\n            {followed ? \"Unfollow\" : \"Follow\"}\r\n            {followed ? <Remove /> : <Add />}\r\n          </button>\r\n        )}\r\n        <h4 className=\"rightbarTitle\">User information</h4>\r\n        <div className=\"rightbarInfo\">\r\n          <div className=\"rightbarInfoItem\">\r\n            <span className=\"rightbarInfoKey\">City:</span>\r\n            <span className=\"rightbarInfoValue\">{user.city}</span>\r\n          </div>\r\n          <div className=\"rightbarInfoItem\">\r\n            <span className=\"rightbarInfoKey\">From:</span>\r\n            <span className=\"rightbarInfoValue\">{user.from}</span>\r\n          </div>\r\n          <div className=\"rightbarInfoItem\">\r\n            <span className=\"rightbarInfoKey\">Relationship:</span>\r\n            <span className=\"rightbarInfoValue\">\r\n              {user.relationship === 1\r\n                ? \"Single\"\r\n                : user.relationship === 1\r\n                ? \"Married\"\r\n                : \"-\"}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <h4 className=\"rightbarTitle\">User friends</h4>\r\n        <div className=\"rightbarFollowings\">\r\n          {friends.map((friend) => (\r\n            <Link\r\n              to={\"/profile/\" + friend.username}\r\n              style={{ textDecoration: \"none\" }}\r\n            >\r\n              <div className=\"rightbarFollowing\">\r\n                <img\r\n                  src={\r\n                    friend.profilePicture\r\n                      ? PF + friend.profilePicture\r\n                      : PF + \"person/noAvatar.png\"\r\n                  }\r\n                  alt=\"\"\r\n                  className=\"rightbarFollowingImg\"\r\n                />\r\n                <span className=\"rightbarFollowingName\">{friend.username}</span>\r\n              </div>\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n  return (\r\n    <div className=\"rightbar\">\r\n      <div className=\"rightbarWrapper\">\r\n        {user ? <ProfileRightbar /> : <HomeRightbar />}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import Topbar from \"../../components/topbar/Topbar\";\r\nimport Sidebar from \"../../components/sidebar/Sidebar\";\r\nimport Feed from \"../../components/feed/Feed\";\r\nimport Rightbar from \"../../components/rightbar/Rightbar\";\r\nimport \"./home.css\"\r\n\r\nexport default function Home() {\r\n  return (\r\n    <>\r\n      <Topbar />\r\n      <div className=\"homeContainer\">\r\n        <Sidebar />\r\n        <Feed/>\r\n        <Rightbar/>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\n\r\nexport const loginCall = async (userCredential, dispatch) => {\r\n  dispatch({ type: \"LOGIN_START\" });\r\n  try {\r\n    const res = await axios.post(\"/auth/login\", userCredential);\r\n    dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\r\n  } catch (err) {\r\n    dispatch({ type: \"LOGIN_FAILURE\", payload: err });\r\n  }\r\n};\r\n\r\n","import { useContext, useRef } from \"react\";\r\nimport \"./login.css\";\r\nimport { loginCall } from \"../../apiCalls\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\n\r\nexport default function Login() {\r\n  const email = useRef();\r\n  const password = useRef();\r\n  const { isFetching, dispatch } = useContext(AuthContext);\r\n\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n    loginCall(\r\n      { email: email.current.value, password: password.current.value },\r\n      dispatch\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"loginWrapper\">\r\n        <div className=\"loginLeft\">\r\n          <h3 className=\"loginLogo\">Lamasocial</h3>\r\n          <span className=\"loginDesc\">\r\n            Connect with friends and the world around you on Lamasocial.\r\n          </span>\r\n        </div>\r\n        <div className=\"loginRight\">\r\n          <form className=\"loginBox\" onSubmit={handleClick}>\r\n            <input\r\n              placeholder=\"Email\"\r\n              type=\"email\"\r\n              required\r\n              className=\"loginInput\"\r\n              ref={email}\r\n            />\r\n            <input\r\n              placeholder=\"Password\"\r\n              type=\"password\"\r\n              required\r\n              minLength=\"6\"\r\n              className=\"loginInput\"\r\n              ref={password}\r\n            />\r\n            <button className=\"loginButton\" type=\"submit\" disabled={isFetching}>\r\n              {isFetching ? (\r\n                <CircularProgress color=\"white\" size=\"20px\" />\r\n              ) : (\r\n                \"Log In\"\r\n              )}\r\n            </button>\r\n            <span className=\"loginForgot\">Forgot Password?</span>\r\n            <button className=\"loginRegisterButton\">\r\n              {isFetching ? (\r\n                <CircularProgress color=\"white\" size=\"20px\" />\r\n              ) : (\r\n                \"Create a New Account\"\r\n              )}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import \"./profile.css\";\r\nimport Topbar from \"../../components/topbar/Topbar\";\r\nimport Sidebar from \"../../components/sidebar/Sidebar\";\r\nimport Feed from \"../../components/feed/Feed\";\r\nimport Rightbar from \"../../components/rightbar/Rightbar\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useParams } from \"react-router\";\r\n\r\nexport default function Profile() {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [user, setUser] = useState({});\r\n  const username = useParams().username;\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      const res = await axios.get(`/users?username=${username}`);\r\n      setUser(res.data);\r\n    };\r\n    fetchUser();\r\n  }, [username]);\r\n\r\n  return (\r\n    <>\r\n      <Topbar />\r\n      <div className=\"profile\">\r\n        <Sidebar />\r\n        <div className=\"profileRight\">\r\n          <div className=\"profileRightTop\">\r\n            <div className=\"profileCover\">\r\n              <img\r\n                className=\"profileCoverImg\"\r\n                src={\r\n                  user.coverPicture\r\n                    ? PF + user.coverPicture\r\n                    : PF + \"person/noCover.png\"\r\n                }\r\n                alt=\"\"\r\n              />\r\n              <img\r\n                className=\"profileUserImg\"\r\n                src={\r\n                  user.profilePicture\r\n                    ? PF + user.profilePicture\r\n                    : PF + \"person/noAvatar.png\"\r\n                }\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n            <div className=\"profileInfo\">\r\n              <h4 className=\"profileInfoName\">{user.username}</h4>\r\n              <span className=\"profileInfoDesc\">{user.desc}</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"profileRightBottom\">\r\n            <Feed username={username} />\r\n            <Rightbar user={user} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import { gql } from '@apollo/client';\r\n\r\nexport const LOGIN_USER = gql `\r\n  mutation login($email: String!, $password: String!) {\r\n    login(email: $email, password: $password) {\r\n      token\r\n      user {\r\n        _id\r\n        username\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_USER = gql`\r\n  mutation addUser($username: String!, $email: String!, $password: String!) {\r\n    addUser(username: $username, email: $email, password: $password) {\r\n      token\r\n      user {\r\n        _id\r\n        username\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_POST = gql`\r\n  mutation addPost($img: String, $postBody: String!, $postAuthor: String!) {\r\n    addPost(img: $img, postBody: $postBody, postAuthor: $postAuthor) {\r\n      _id\r\n      postBody\r\n      postAuthor\r\n      postDate\r\n      comments {\r\n        _id\r\n        commentText\r\n      }\r\n      likes\r\n      img\r\n    }\r\n  }\r\n`;\r\n\r\nexport const REMOVE_POST = gql`\r\n  mutation removePost($postId: ID!) {\r\n    removePost(postId: $postId) {\r\n      _id\r\n      postBody\r\n      postAuthor\r\n      postDate\r\n      comments {\r\n        _id\r\n        commentText\r\n      }\r\n      likes\r\n      img\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_COMMENT = gql`\r\n  mutation addComment(\r\n    $postId: ID!\r\n    $commentText: String!\r\n    $commentAuthor: String!\r\n  ) {\r\n    addComment(\r\n      postId: $postId\r\n      commentText: $commentText\r\n      commentAuthor: $commentAuthor\r\n    ) {\r\n      _id\r\n      postBody\r\n      postAuthor\r\n      postDate\r\n      comments {\r\n        _id\r\n        commentText\r\n        createdAt\r\n      }\r\n      likes\r\n      img\r\n    }\r\n  }\r\n`;\r\n\r\nexport const REMOVE_COMMENT = gql`\r\n  mutation removePost(\r\n    $postId: ID!\r\n    $commentId: ID!\r\n  ) {\r\n    removePost(\r\n      postId: $postId\r\n      commentId: $commentId\r\n    ) {\r\n      _id\r\n      postBody\r\n      postAuthor\r\n      postDate\r\n      comments {\r\n        _id\r\n        commentText\r\n        createdAt\r\n      }\r\n      likes\r\n      img\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_CONVO = gql `\r\n  mutation addConvo($members: Array!) {\r\n    addConvo(members: $members) {\r\n      _id\r\n      members\r\n      messages {\r\n        sender\r\n        text\r\n        createdAt\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_MESSAGE = gql`\r\n  mutation addMessage($convoId: ID!, $sender: String!, $text: String!) {\r\n    addMessage(convoId: $convoId, sender: $sender, text: $text) {\r\n      _id\r\n      members\r\n      messages {\r\n        sender\r\n        text\r\n        createdAt\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const REMOVE_MESSAGE = gql`\r\n  mutation removeMessage($convoId: ID!, $messageId: ID!) {\r\n    removeMessage(convoId: $convoId, messageId: $messageId) {\r\n      _id\r\n      members\r\n      messages {\r\n        sender\r\n        text\r\n        createdAt\r\n      }\r\n    }\r\n  }\r\n`;","import decode from 'jwt-decode';\r\n\r\nclass AuthService {\r\n  getProfile() {\r\n    return decode(this.getToken());\r\n  }\r\n\r\n  loggedIn() {\r\n    const token = this.getToken();\r\n    // If there is a token and it's not expired, return `true`\r\n    return token && !this.isTokenExpired(token) ? true : false;\r\n  }\r\n\r\n  isTokenExpired(token) {\r\n    // Decode the token to get its expiration time that was set by the server\r\n    const decoded = decode(token);\r\n\r\n    // if the expiration time is less than the current time(in seconds), the token is expired and we return `true`\r\n    if (decoded.exp < Date.now() / 1000) {\r\n      localStorage.removeItem('id_token');\r\n    }\r\n    // if the tokenhasn't passed expiration time, return `false`\r\n    return false;\r\n  }\r\n\r\n  getToken() {\r\n    return localStorage.getItem('id_token');\r\n  }\r\n\r\n  login(idToken) {\r\n    localStorage.setItem('id_token', idToken);\r\n    window.location.assign('/');\r\n  }\r\n\r\n  logout() {\r\n    localStorage.removeItem('id_token');\r\n    window.location.reload();\r\n  }\r\n}\r\n\r\nexport default new AuthService();","import \"./register.css\";\r\nimport React, { useState, Link } from 'react';\r\nimport { useMutation } from '@apollo/client';\r\nimport { ADD_USER } from '../../utils/mutations';\r\nimport Auth from '../../utils/auth';\r\n\r\nexport default function Register() {\r\n  // set initial form state\r\n  const [userFormData, setUserFormData] = useState({ username: '', email: '', password: ''});\r\n\r\n  // set state for alert\r\n  const [showAlert, setShowAlert] = useState(false);\r\n\r\n  const [addUser, { error }] = useMutation(ADD_USER);\r\n\r\n  const handleInputChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setUserFormData({ ...userFormData, [name]: value });\r\n  };\r\n\r\n  const handleClick = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const { data } = await addUser({\r\n        variables: {\r\n          username: userFormData.username,\r\n          email: userFormData.email,\r\n          password: userFormData.password     \r\n        }\r\n      });\r\n      Auth.login(data.addUser.token);\r\n    } catch (err) {\r\n      console.log(err);\r\n      setShowAlert(true);\r\n    }\r\n    console.log(userFormData)\r\n    setUserFormData({\r\n      username: '',\r\n      email: '',\r\n      password: '',\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"loginWrapper\">\r\n        <div className=\"loginLeft\">\r\n          <h3 className=\"loginLogo\">Satin</h3>\r\n          <span className=\"loginDesc\">\r\n            Connect with friends and the world around you.\r\n          </span>\r\n        </div>\r\n        <div className=\"loginRight\">\r\n          <form className=\"loginBox\" onSubmit={handleClick}>\r\n            <input\r\n              placeholder=\"Username\"\r\n              required\r\n              name='username'\r\n              value = {userFormData.username}\r\n              onChange = {handleInputChange}\r\n              className=\"loginInput\"\r\n            />\r\n            <input\r\n              placeholder=\"Email\"\r\n              required\r\n              name='email'\r\n              value = {userFormData.email}\r\n              onChange = {handleInputChange}\r\n              className=\"loginInput\"\r\n              type=\"email\"\r\n            />\r\n            <input\r\n              placeholder=\"Password\"\r\n              required\r\n              name='password'\r\n              value = {userFormData.password}\r\n              onChange = {handleInputChange}\r\n              className=\"loginInput\"\r\n              type=\"password\"\r\n              minLength=\"6\"\r\n            />\r\n            <button className=\"loginButton\" type=\"submit\">\r\n              Sign Up\r\n            </button>\r\n            <button className=\"loginRegisterButton\">Log into Account</button>\r\n          </form> \r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport \"./conversation.css\";\r\n\r\nexport default function Conversation({ conversation, currentUser }) {\r\n  const [user, setUser] = useState(null);\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n\r\n  useEffect(() => {\r\n    const friendId = conversation.members.find((m) => m !== currentUser._id);\r\n\r\n    const getUser = async () => {\r\n      try {\r\n        const res = await axios(\"/users?userId=\" + friendId);\r\n        setUser(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getUser();\r\n  }, [currentUser, conversation]);\r\n\r\n  return (\r\n    <div className=\"conversation\">\r\n      <img\r\n        className=\"conversationImg\"\r\n        src={\r\n          user?.profilePicture\r\n            ? PF + user.profilePicture\r\n            : PF + \"person/noAvatar.png\"\r\n        }\r\n        alt=\"\"\r\n      />\r\n      <span className=\"conversationName\">{user?.username}</span>\r\n    </div>\r\n  );\r\n}\r\n","import \"./message.css\";\r\nimport { format } from \"timeago.js\";\r\n\r\nexport default function Message({ message, own }) {\r\n  return (\r\n    <div className={own ? \"message own\" : \"message\"}>\r\n      <div className=\"messageTop\">\r\n        <img\r\n          className=\"messageImg\"\r\n          src=\"https://images.pexels.com/photos/3686769/pexels-photo-3686769.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\"\r\n          alt=\"\"\r\n        />\r\n        <p className=\"messageText\">{message.text}</p>\r\n      </div>\r\n      <div className=\"messageBottom\">{format(message.createdAt)}</div>\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport \"./chatOnline.css\";\r\n\r\nexport default function ChatOnline({ onlineUsers, currentId, setCurrentChat }) {\r\n  const [friends, setFriends] = useState([]);\r\n  const [onlineFriends, setOnlineFriends] = useState([]);\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n\r\n  useEffect(() => {\r\n    const getFriends = async () => {\r\n      const res = await axios.get(\"/users/friends/\" + currentId);\r\n      setFriends(res.data);\r\n    };\r\n\r\n    getFriends();\r\n  }, [currentId]);\r\n\r\n  useEffect(() => {\r\n    setOnlineFriends(friends.filter((f) => onlineUsers.includes(f._id)));\r\n  }, [friends, onlineUsers]);\r\n\r\n  const handleClick = async (user) => {\r\n    try {\r\n      const res = await axios.get(\r\n        `/conversations/find/${currentId}/${user._id}`\r\n      );\r\n      setCurrentChat(res.data);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"chatOnline\">\r\n      {onlineFriends.map((o) => (\r\n        <div className=\"chatOnlineFriend\" onClick={() => handleClick(o)}>\r\n          <div className=\"chatOnlineImgContainer\">\r\n            <img\r\n              className=\"chatOnlineImg\"\r\n              src={\r\n                o?.profilePicture\r\n                  ? PF + o.profilePicture\r\n                  : PF + \"person/noAvatar.png\"\r\n              }\r\n              alt=\"\"\r\n            />\r\n            <div className=\"chatOnlineBadge\"></div>\r\n          </div>\r\n          <span className=\"chatOnlineName\">{o?.username}</span>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import \"./messenger.css\";\r\nimport Topbar from \"../../components/topbar/Topbar\";\r\nimport Conversation from \"../../components/conversations/Conversation\";\r\nimport Message from \"../../components/message/Message\";\r\nimport ChatOnline from \"../../components/chatOnline/ChatOnline\";\r\nimport { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport axios from \"axios\";\r\nimport { io } from \"socket.io-client\";\r\n\r\nexport default function Messenger() {\r\n  const [conversations, setConversations] = useState([]);\r\n  const [currentChat, setCurrentChat] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState(\"\");\r\n  const [arrivalMessage, setArrivalMessage] = useState(null);\r\n  const [onlineUsers, setOnlineUsers] = useState([]);\r\n  const socket = useRef();\r\n  const { user } = useContext(AuthContext);\r\n  const scrollRef = useRef();\r\n\r\n  useEffect(() => {\r\n    socket.current = io(\"ws://localhost:8900\");\r\n    socket.current.on(\"getMessage\", (data) => {\r\n      setArrivalMessage({\r\n        sender: data.senderId,\r\n        text: data.text,\r\n        createdAt: Date.now(),\r\n      });\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    arrivalMessage &&\r\n      currentChat?.members.includes(arrivalMessage.sender) &&\r\n      setMessages((prev) => [...prev, arrivalMessage]);\r\n  }, [arrivalMessage, currentChat]);\r\n\r\n  useEffect(() => {\r\n    socket.current.emit(\"addUser\", user._id);\r\n    socket.current.on(\"getUsers\", (users) => {\r\n      setOnlineUsers(\r\n        user.followings.filter((f) => users.some((u) => u.userId === f))\r\n      );\r\n    });\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    const getConversations = async () => {\r\n      try {\r\n        const res = await axios.get(\"/conversations/\" + user._id);\r\n        setConversations(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getConversations();\r\n  }, [user._id]);\r\n\r\n  useEffect(() => {\r\n    const getMessages = async () => {\r\n      try {\r\n        const res = await axios.get(\"/messages/\" + currentChat?._id);\r\n        setMessages(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getMessages();\r\n  }, [currentChat]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const message = {\r\n      sender: user._id,\r\n      text: newMessage,\r\n      conversationId: currentChat._id,\r\n    };\r\n\r\n    const receiverId = currentChat.members.find(\r\n      (member) => member !== user._id\r\n    );\r\n\r\n    socket.current.emit(\"sendMessage\", {\r\n      senderId: user._id,\r\n      receiverId,\r\n      text: newMessage,\r\n    });\r\n\r\n    try {\r\n      const res = await axios.post(\"/messages\", message);\r\n      setMessages([...messages, res.data]);\r\n      setNewMessage(\"\");\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [messages]);\r\n\r\n  return (\r\n    <>\r\n      <Topbar />\r\n      <div className=\"messenger\">\r\n        <div className=\"chatMenu\">\r\n          <div className=\"chatMenuWrapper\">\r\n            <input placeholder=\"Search for friends\" className=\"chatMenuInput\" />\r\n            {conversations.map((c) => (\r\n              <div onClick={() => setCurrentChat(c)}>\r\n                <Conversation conversation={c} currentUser={user} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"chatBox\">\r\n          <div className=\"chatBoxWrapper\">\r\n            {currentChat ? (\r\n              <>\r\n                <div className=\"chatBoxTop\">\r\n                  {messages.map((m) => (\r\n                    <div ref={scrollRef}>\r\n                      <Message message={m} own={m.sender === user._id} />\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <div className=\"chatBoxBottom\">\r\n                  <textarea\r\n                    className=\"chatMessageInput\"\r\n                    placeholder=\"write something...\"\r\n                    onChange={(e) => setNewMessage(e.target.value)}\r\n                    value={newMessage}\r\n                  ></textarea>\r\n                  <button className=\"chatSubmitButton\" onClick={handleSubmit}>\r\n                    Send\r\n                  </button>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <span className=\"noConversationText\">\r\n                Open a conversation to start a chat.\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"chatOnline\">\r\n          <div className=\"chatOnlineWrapper\">\r\n            <ChatOnline\r\n              onlineUsers={onlineUsers}\r\n              currentId={user._id}\r\n              setCurrentChat={setCurrentChat}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import Home from \"./pages/home/Home\";\r\nimport Login from \"./pages/login/Login\";\r\nimport Profile from \"./pages/profile/Profile\";\r\nimport Register from \"./pages/register/Register\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"./context/AuthContext\";\r\nimport Messenger from \"./pages/messenger/Messenger\";\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport {\r\n  ApolloClient,\r\n  InMemoryCache,\r\n  ApolloProvider,\r\n  createHttpLink\r\n} from '@apollo/client';\r\n\r\nimport { setContext } from '@apollo/client/link/context';\r\n// Construct main GraphQL API endpoint\r\nconst httpLink = createHttpLink({\r\n  uri: '/graphql'\r\n});\r\n\r\n// Construct request middleware that will attach the JWT token to every request as an `authorization` header\r\nconst authLink = setContext((_, { headers }) => {\r\n  const token = localStorage.getItem('id_token');\r\n\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      authorization: token ? `Holder ${token}` : '',\r\n    }\r\n  }\r\n});\r\n\r\nconst client = new ApolloClient({\r\n  link: authLink.concat(httpLink),\r\n  cache: new InMemoryCache(),\r\n});\r\n\r\n\r\nfunction App() {\r\n  const { user } = useContext(AuthContext);\r\n  return (\r\n    <ApolloProvider client={client}>\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            {user ? <Home /> : <Register />}\r\n          </Route>\r\n          <Route path=\"/login\">{user ? <Redirect to=\"/\" /> : <Login />}</Route>\r\n          <Route path=\"/register\">\r\n            {user ? <Redirect to=\"/\" /> : <Register />}\r\n          </Route>\r\n          <Route path=\"/messenger\">\r\n            {!user ? <Redirect to=\"/\" /> : <Messenger />}\r\n          </Route>\r\n          <Route path=\"/profile/:username\">\r\n            <Profile />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </ApolloProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { AuthContextProvider } from \"./context/AuthContext\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AuthContextProvider>\r\n      <App />\r\n    </AuthContextProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}